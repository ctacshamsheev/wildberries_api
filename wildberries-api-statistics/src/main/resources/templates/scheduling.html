<!DOCTYPE HTML>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>API Статистики v1.0</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" rel="stylesheet">
</head>
<body>
<div th:insert="navbar :: navbar"></div>

<div class="container mt-5">
    <div id="orders">
        <form th:action="@{/}">
            <table>
                <tr>
                    <td>Дата</td>
                    </td>
                    <td th:width="10">
                    <td>

                        <label>
                            <input class="form-control"
                                   max="2025-12-31T23:59"
                                   min="2020-01-01T00:00"
                                   name="начальная дата"
                                   th:name="start"
                                   type="datetime-local"
                                   value="2024-01-01T00:00">
                        </label>
                        <label>
                            <input class="form-control"
                                   max="2025-12-31T23:59"
                                   min="2020-01-01T00:00"
                                   name="конечная дата"
                                   th:name="end"
                                   type="datetime-local"
                                   value="2024-12-31T23:59">
                        </label>
                    </td>
                </tr>
                <tr>
                    <td><b>История вызовов api</b></td>
                    <td th:width="10"></td>
                    <td> лог обращений к api wildberries
                        <input class="btn btn-outline-success"
                               th:formaction="@{/scheduling/results}"
                               type="submit" value="Отобразить"/>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</div>
<div class="container mt-5">
    <div sec:authorize="hasAuthority('ADMIN')">
        <form th:action="@{/}">
            Ручной вызов шедулера
            <table>
                <tr>
                    <td>Дата</td>
                    <td th:width="10"></td>
                    <td>
                        <label>
                            <input class="form-control"
                                   max="2025-12-31T23:59"
                                   min="2020-01-01T00:00"
                                   name="начальная дата"
                                   th:name="start"
                                   type="datetime-local"
                                   value="2024-01-01T00:00">
                        </label>
                    </td>
                </tr>
                <tr>
                    <td><b>Заказы</b></td>
                    <td th:width="10"></td>
                    <td>
                        <input class="btn btn-outline-success"
                               th:formaction="@{/wildberries/statistics/orders/scheduling}"
                               type="submit"
                               value="Запустить"/>
                    </td>
                </tr>
                <tr>
                    <td><b>Продажи</b></td>
                    <td th:width="10"></td>
                    <td>
                        <input class="btn btn-outline-success"
                               th:formaction="@{/wildberries/statistics/sales/scheduling}"
                               type="submit"
                               value="Запустить"/>
                    </td>
                </tr>
                <tr>
                    <td><b>Поставки</b></td>
                    <td th:width="10"></td>
                    <td>
                        <input class="btn btn-outline-success"
                               th:formaction="@{/wildberries/statistics/incomes/scheduling}"
                               type="submit"
                               value="Запустить"/>
                    </td>
                </tr>
                <tr>
                    <td><b>Склад</b></td>
                    <td th:width="10"></td>
                    <td>
                        <input class="btn btn-outline-success"
                               th:formaction="@{/wildberries/statistics/stocks/scheduling}" type="submit"
                               value="Запустить"/>
                    </td>
                </tr>
                <tr>
                    <td><b>Отчет</b></td>
                    <td th:width="10"></td>
                    <td>
                        <input class="btn btn-outline-success"
                               th:formaction="@{/wildberries/statistics/report/scheduling}"
                               type="submit"
                               value="Запустить"/>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</div>
</body>
</html>