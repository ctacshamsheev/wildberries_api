<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>API Статистики v1.0: История вызовов</title>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" rel="stylesheet">
</head>
<body>
<div th:insert="navbar :: navbar"></div>

<div class="container mt-5">
    <div>
        <h3>История вызовов api</h3>
        текущее время сервера:<p th:text="${#execInfo.now.time}"></p>
        <table class="table table-striped">
            <ul>
                <tr>
                    <td><b>Id:</b></td>
                    <td><b>Время вызова API:</b></td>
                    <td><b>Время завершения:</b></td>
                    <td><b>Время начала периода:</b></td>
                    <td><b>Тип апи:</b></td>
                    <td><b>Статус выполнения:</b></td>
                    <td><b>Описание ошибок:</b></td>
                    <td><b>Количество обновленных записей:</b></td>
                </tr>
                <tr th:each="result : ${results}">
                    <td th:text="${result.id}"></td>
                    <td th:text="${#temporals.format(result.start, 'dd-MM-yyyy HH:mm:ss')}"></td>
                    <td th:text="${#temporals.format(result.end, 'dd-MM-yyyy HH:mm:ss')}"></td>
                    <td th:text="${#temporals.format(result.from, 'dd-MM-yyyy HH:mm:ss')}"></td>
                    <td th:text="${result.apiType}"></td>
                    <td th:text="${result.apiStatus}"></td>
                    <td th:text="${result.errorMessage}"></td>
                    <td th:text="${result.count}"></td>
                </tr>
            </ul>
        </table>
    </div>
</div>

</body>
</html>